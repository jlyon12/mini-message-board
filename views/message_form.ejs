<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel='stylesheet' href='/stylesheets/style.css' />
  <title>
    <%= title %>
  </title>
</head>

<body class="h-screen p-1 grid grid-auto-fr gap-4 justify-center bg-slate-950 text-slate-200 md:p-8">
  <h1 class="text-center font-bold text-4xl text-sky-300 m-4">
    <%= title %>
  </h1>

  <form action="" method="POST" class="flex flex-col gap-4 sm:min-w-[600px] md:min-w-[800px]">
    <fieldset class="flex flex-col gap-4">
      <label for="name" class="grid gap-2 font-bold text-lg text-violet-300">Username
        <% if( errors && errors.find((e)=>e.path==="name")){ %>
          <span class=" text-red-400  font-normal text-base">
            <%= errors.find((e)=>e.path==="name").msg %>
          </span>
          <% } %>
            <input id="name" name="name" type="text" placeholder="Walrus" value="<%= !user ? '' : user.name %>"
              class="block text-slate-200 bg-slate-900 rounded-md p-2 ">
      </label>
      <label for="text" class="grid gap-2 font-bold text-lg text-violet-300">Message
        <% if( errors && errors.find((e)=>e.path==="text")){ %>
          <span class=" text-red-400  font-normal text-base">
            <%= errors.find((e)=>e.path==="text").msg %>
          </span>
          <% } %>
            <textarea id="text" name="text" rows="8" placeholder="..."
              class=" text-slate-200 bg-slate-900 rounded-md p-2 "><%= !message ? '' : message.text %></textarea>
      </label>
    </fieldset>
    <button type=" submit"
      class="bg-violet-500 font-semibold font-lg rounded-md w-fit px-4 py-2 mx-auto  hover:bg-violet-400 active::bg-violet-400 focus:bg-violet-400">Submit</button>
  </form>
  </div>
  <button class=" my-8 w-fit mx-auto"> <a href="/"
      class="bg-violet-500 font-semibold font-lg rounded-md w-fit px-4 py-2 mx-automd:px-6 md:py-4 hover:bg-violet-400 active::bg-violet-400 focus:bg-violet-400">
      View Messages
    </a>
  </button>
</body>

</html>